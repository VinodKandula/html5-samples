function connectWebViewJavascriptBridge(e){window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):(document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1),window.addEventListener("message",function(i){"PandaJavascriptBridgeReady"==i.data&&e({init:function(e){window.addEventListener("message",function(i){"PandaJavascriptBridgeReady"!=i.data&&e(i.data)},!1)},send:function(e){window.parent.postMessage(e,"*")}})},!1))}function executeHook(e,i){PandaBridge.globalReceive.forEach(function(a){a(e,i)}),PandaBridge.eventReceive[e]&&PandaBridge.eventReceive[e].forEach(function(e){e(i)})}var PandaBridge=function(){};PandaBridge.initCallBack=null,PandaBridge.globalReceive=[],PandaBridge.eventReceive={},PandaBridge.bridge=null,connectWebViewJavascriptBridge(function(e){PandaBridge.bridge=e,PandaBridge.initCallBack&&PandaBridge.initCallBack(),e.init(function(e){try{var i=JSON.parse(e);executeHook(i.event,i.args)}catch(a){}})}),PandaBridge.init=function(e){PandaBridge.initCallBack=e,PandaBridge.bridge&&PandaBridge.initCallBack()},PandaBridge.send=function(e,i){if(PandaBridge.bridge)try{var a=JSON.stringify({event:e,args:i});PandaBridge.bridge.send(a)}catch(n){}},PandaBridge.listen=function(e,i){"function"==typeof e?PandaBridge.globalReceive.push(e):(void 0===PandaBridge.eventReceive[e]&&(PandaBridge.eventReceive[e]=[]),PandaBridge.eventReceive[e].push(i))},PandaBridge.unlisten=function(e,i){if(void 0===e&&void 0===i)PandaBridge.globalReceive=[],PandaBridge.eventReceive={};else if("function"==typeof e){var a=PandaBridge.globalReceive.indexOf(e);-1!==a&&PandaBridge.globalReceive.splice(a,1)}else if(void 0===i)PandaBridge.eventReceive[e]=[];else{var a=PandaBridge.eventReceive[e].indexOf(i);-1!==a&&PandaBridge.eventReceive[e].splice(a,1)}},window.PandaBridge=PandaBridge;